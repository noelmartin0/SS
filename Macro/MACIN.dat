COPY    START    NULL
RDBUFF    MACRO   INDEV,BUFADR,RECLTH
NULL    CLEAR    X
NULL    CLEAR    A
NULL    CLEAR    S
NULL    +LDT    #4096
NULL    TD    =X'&INDEV'
NULL    JEQ    *-3
NULL    RD    =X'&INDEV'
NULL    COMPR    A,S
NULL    JEQ    *+11
NULL    STCH    BUFADR,X
NULL    TIXR    T
NULL    JLT    *-19
NULL    STX    RECLTH
NULL    MEND    NULL
FIRST    STL    RETADR
CLOOP    RDBUFF    F1,BUFFER,LENGTH
NULL    LDA    LENGTH
NULL    COMP    #0
NULL    JEQ    ENDFIL
EOF    BYTE    C'EOF'
THREE    WORD    3
RETADR    RESW    1
LENGTH    RESW    1
BUFFER    RESB    4096
NULL    END    FIRST